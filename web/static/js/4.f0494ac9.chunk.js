(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[4],{313:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ie}));var r=n(30),i=n(0),a=[{name:"Children Supersoft mask",brand:"CARTERS",type:"mask",origin:"China",datePublished:"2021-10-10 12:12:12",price:5.12,deliveryDates:3,colors:["red","yellow","orange"],conditions:["new"]},{name:"Adult Supersoft mask",brand:"CARTERS",type:"mask",origin:"China",datePublished:"2021-10-20 12:12:12",price:4.99,deliveryDates:3,colors:["red","black","blue"],conditions:["new"]},{name:"Adult Supersoft mask low cost",brand:"CARTERS",type:"mask",origin:"Vietnam",datePublished:"2021-08-20 12:12:12",price:3.99,deliveryDates:12,colors:["red","pink"],conditions:["new"]},{name:"Wood screw #2",brand:"POWERTOOL",type:"screws",origin:"USA",datePublished:"2020-08-20 12:12:12",price:12.99,deliveryDates:1,colors:["silver"],conditions:["new"]},{name:"Wood screw #4",brand:"POWERTOOL",type:"screws",origin:"USA",datePublished:"2020-08-20 14:12:12",price:21.99,deliveryDates:2,colors:["black","yellow","silver"],conditions:["new"]},{name:"DeWalt screw driver",brand:"DeWalt",type:"tools",origin:"USA",datePublished:"2020-07-20 14:12:12",price:199.99,deliveryDates:3,colors:["black"],conditions:["new","used"]},{name:"Ryobi impact driver",brand:"Ryobi",type:"tools",origin:"China",datePublished:"2020-06-20 14:12:12",price:98,deliveryDates:6,colors:["black"],conditions:["new","used"]}],c=n(38),s=n(19),l=n(417),o=n(418),u=n.n(o),d=n(513),f=n(419),h=n(72);function m(e,t){var n=h.map(e,(function(e){return e[t]}));return h.filter(n,(function(e){return!h.isNaN(e)}))}function b(e){return new Date(e).toISOString().slice(0,19).replace("T"," ")}n(354);var O=n(21),j=n(20),p=n(12),g=n(13),v=n(72),y=function(){function e(t){Object(p.a)(this,e),this.owner=t}return Object(g.a)(e,[{key:"getOwner",value:function(){return this.owner}},{key:"getTitle",value:function(){throw new Error("Not Implemented Error")}},{key:"filter",value:function(e){throw new Error("Not Implemented Error")}}]),e}(),D=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).filters=r||[],i}return Object(g.a)(n,[{key:"getTitle",value:function(){}},{key:"getFilters",value:function(){return this.filters}}]),n}(y),C=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"filter",value:function(e){if(v.isEmpty(this.filters))return e;var t=[];return this.filters.map((function(n){return t.push.apply(t,Object(s.a)(n.filter(e)))})),v.uniqWith(t,v.isEqual)}}]),n}(D),w=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"filter",value:function(e){if(v.isEmpty(this.filters))return e;var t=[];return this.filters.map((function(n){return t.push(n.filter(e))})),v.intersectionWith.apply(v,t.concat([v.isEqual]))}}]),n}(D),x=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e)).fieldName=r,a.fieldValue=i,a}return Object(g.a)(n,[{key:"getTitle",value:function(){return"".concat(this.fieldName,":").concat(this.fieldValue)}},{key:"filter",value:function(e){var t=this;return v.filter(e,(function(e){var n=e[t.fieldName];return v.isArray(n)?v.includes(n,t.fieldValue):n===t.fieldValue}))}},{key:"getFieldName",value:function(){return this.fieldName}},{key:"getFieldValue",value:function(){return this.fieldValue}}]),n}(y),E=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e,r,i,a){var c;return Object(p.a)(this,n),(c=t.call(this,e)).fieldName=r,c.lowerLimit=i,c.upperLimit=a,c}return Object(g.a)(n,[{key:"getTitle",value:function(){return"".concat(this.fieldName,":(").concat(this.lowerLimit," - ").concat(this.upperLimit,")")}},{key:"filter",value:function(e){var t=this;return v.filter(e,(function(e){return e[t.fieldName]<=t.upperLimit&&e[t.fieldName]>=t.lowerLimit}))}},{key:"getFieldName",value:function(){return this.fieldName}},{key:"getLowerLimit",value:function(){return this.lowerLimit}},{key:"getUpperLimit",value:function(){return this.upperLimit}}]),n}(y),T=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e,r,i,a){var c;return Object(p.a)(this,n),(c=t.call(this,e)).fieldName=r,c.startDate=i,c.endDate=a,c}return Object(g.a)(n,[{key:"getTitle",value:function(){return"".concat(this.fieldName,":(").concat(this.startDate," - ").concat(this.endDate,")")}},{key:"filter",value:function(e){var t=this;return v.filter(e,(function(e){try{var n=new Date(Date.parse(e[t.fieldName])).getTime(),r=t.startDate.getTime();return n<=t.endDate.getTime()&&n>=r}catch(i){return!1}}))}},{key:"getFieldName",value:function(){return this.fieldName}},{key:"getStartDate",value:function(){return this.startDate}},{key:"getEndDate",value:function(){return this.endDate}}]),n}(y),N=n(3),k=n(72);function A(e){var t=e.name,n=e.occurrences,r=e.checked,i=e.onChecked,a=e.showOccurrences,c=e.searchKey;return Object(N.jsxs)("div",{className:"facets-list-item",onClick:function(){return i(!r)},children:[Object(N.jsx)(l.a,{checked:r,onChange:function(e){return i(e.target.checked)}}),Object(N.jsx)("div",{className:"facets-list-item-label",children:Object(N.jsx)(u.a,{highlightStyle:{color:"red",backgroundColor:"inherit",padding:0,margin:0},searchWords:[c],autoEscape:!0,textToHighlight:t})}),a&&Object(N.jsxs)("div",{className:"facets-list-item-occurrences",children:["(",n,")"]})]})}function R(e){var t=e.name,n=e.summary,r=e.showOccurrencesColumn,i=e.onChange,a=e.searchKey,c=e.rowsToShow,l=e.selectedOptions,o=k.slice(n,0,c>0?c:n.length);return Object(N.jsx)(N.Fragment,{children:o.map((function(e){return Object(N.jsx)(A,{name:e.name,occurrences:e.occurrences,showOccurrences:r,checked:!!k.find(l,(function(t){return t===e.name})),onChecked:function(t){if(t)i([].concat(Object(s.a)(l),[e.name]));else{var n=Object(s.a)(l);k.remove(n,(function(t){return t===e.name})),i(n)}},searchKey:a},"react-ui-facets-list-".concat(t,"-").concat(e.name))}))})}function S(e){var t=e.name,n=e.occurrences,r=e.showOccurrences,i=e.onLabelClicked,a=e.searchKey;return Object(N.jsxs)("div",{className:"facets-list-item",onClick:i,children:[Object(N.jsx)(f.Radio,{value:t}),Object(N.jsx)("div",{className:"facets-list-item-label",children:Object(N.jsx)(u.a,{highlightStyle:{color:"red",backgroundColor:"inherit",padding:0,margin:0},searchWords:[a],autoEscape:!0,textToHighlight:t})}),r&&Object(N.jsxs)("div",{className:"facets-list-item-occurrences",children:["(",n,")"]})]})}function L(e){var t=e.name,n=e.summary,r=e.showOccurrencesColumn,i=e.onChange,a=e.searchKey,c=e.rowsToShow,s=e.selectedOptions,l=k.slice(n,0,c>0?c:n.length),o=k.isEmpty(s)?"":s[0];return Object(N.jsx)(f.RadioGroup,{selectedValue:o||"",onChange:function(e){return i([e])},children:l.map((function(e){return Object(N.jsx)(S,{name:e.name,occurrences:e.occurrences,showOccurrences:r,onLabelClicked:function(){return i([e.name])},searchKey:a},"react-ui-facets-list-".concat(t,"-").concat(e.name))}))})}function F(e){var t=e.name,n=e.onFilterChanged,a=e.filters,c=e.multipleSelect,l=e.baseData,o=e.config,u=o.field,f=o.showOccurrencesColumn,m=void 0===f||f,b=o.searchBarDisplayThreshold,O=void 0===b?10:b,j=o.sortBarDisplayThreshold,p=void 0===j?10:j,g=o.collapseThreshold,v=void 0===g?5:g,y=o.sortByOccurrences,D=void 0===y||y,w=o.sortAscent,E=void 0!==w&&w,T=Object(i.useState)(""),A=Object(r.a)(T,2),S=A[0],F=A[1],B=Object(i.useState)(D),G=Object(r.a)(B,2),I=G[0],U=G[1],_=Object(i.useState)(E),P=Object(r.a)(_,2),Y=P[0],V=P[1],W=Object(i.useState)(v),K=Object(r.a)(W,2),M=K[0],q=K[1],J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];h.map(h.map(e,(function(e){return e[t]})),(function(e){h.isArray(e)?i.push.apply(i,Object(s.a)(e)):i.push(e)}));var a=h.map(h.sortBy(h.uniq(i)),(function(n){return{name:n,occurrences:h.filter(e,(function(e){var r=e[t];return h.isArray(r)?h.includes(r,n):r===n})).length}}));return h.orderBy(a,[n?"occurrences":"name"],[r?"asc":"desc"])}(l,u,I,Y),H=0===O||O>0&&O<J.length,$=k.filter(J,(function(e){return!S||k.toLower(e.name).includes(k.toLower(S))})),z=0===p||p>0&&p<$.length,Q=v>0&&v<$.length&&M<$.length,X=k.find(a,(function(e){return e.getOwner()===t})),Z=X?X.getFilters().map((function(e){return e.getFieldValue()})):[];function ee(e){if(console.log(e),n){var r=k.isEmpty(e)?void 0:new C(t,e.map((function(e){return new x(t,u,e)})));n(r)}}return Object(N.jsxs)(N.Fragment,{children:[H&&Object(N.jsx)("div",{className:"facets-list-search-bar-box",children:Object(N.jsx)("input",{className:"facets-list-search-bar-input",value:S||"",onChange:function(e){return F(e.target.value)},autoComplete:"on",placeholder:"search..."})}),z&&Object(N.jsxs)("div",{className:"facets-list-item",children:[Object(N.jsx)("div",{className:"facets-list-item-label",onClick:function(){U(!1),V((function(e){return!e}))},children:Y?Object(N.jsx)(d.a,{className:I?"facets-list-sort-button-deactive":"facets-list-sort-button-active"}):Object(N.jsx)(d.b,{className:I?"facets-list-sort-button-deactive":"facets-list-sort-button-active"})}),m&&Object(N.jsx)("div",{className:"facets-list-item-occurrences",onClick:function(){U(!0),V((function(e){return!e}))},children:Y?Object(N.jsx)(d.d,{className:I?"facets-list-sort-button-active":"facets-list-sort-button-deactive"}):Object(N.jsx)(d.c,{className:I?"facets-list-sort-button-active":"facets-list-sort-button-deactive"})})]}),k.isEmpty(J)?Object(N.jsx)("div",{className:"facets-list-no-availble-items",children:" no available data"}):c?Object(N.jsx)(R,{name:t,summary:$,showOccurrencesColumn:m,onChange:ee,searchKey:S,rowsToShow:M,selectedOptions:Z}):Object(N.jsx)(L,{name:t,summary:$,showOccurrencesColumn:m,onChange:ee,searchKey:S,rowsToShow:M,selectedOptions:Z}),Q&&Object(N.jsx)("div",{className:"facets-list-expand-button",onClick:function(){return q($.length)},children:"show all"})]})}var B=n(57),G=n(420),I=(n(435),n(436),n(437)),U=n(511),_=n(520),P=n(72);function Y(e){var t=e.id,n=e.startDate,i=e.endDate,a=Object(I.b)(),c=Object(r.a)(a,2),s=c[0],l=c[1].toggle;return Object(N.jsxs)("button",Object(B.a)(Object(B.a)({type:"button",id:t},s),{},{onClick:l,className:"date-range-button",children:[b(n).substring(0,10)," \xa0 ~ \xa0 ",b(i).substring(0,10)]}))}function V(e){var t=e.role,n=e.show,r=e.onClose,i=e.startDate,a=e.endDate,c=e.onDateRangeChanged,l=new Date((new Date).getFullYear(),0,1),o=new Date((new Date).getFullYear()-1,0,1),u=Object(U.b)({flip:!0,offset:[0,8]}).props;return Object(N.jsx)("div",Object(B.a)(Object(B.a)({style:{display:n?"":"none"}},u),{},{role:t,children:Object(N.jsx)(G.DateRangePicker,{ranges:[{startDate:i,endDate:a,key:"selection"}],onChange:function(e){r(),c(e.selection)},inputRanges:[],staticRanges:[].concat(Object(s.a)(G.defaultStaticRanges),[{label:"This Year",hasCustomRendering:!1,range:function(){return{startDate:l,endDate:new Date}},isSelected:function(){return!1}},{label:"Last Year",hasCustomRendering:!1,range:function(){return{startDate:o,endDate:l}},isSelected:function(){return!1}}])})}))}function W(e){var t=e.name,n=e.startDate,a=e.endDate,c=e.onDateRangeChanged,s=Object(i.useState)(!1),l=Object(r.a)(s,2),o=l[0],u=l[1];return Object(N.jsxs)(_.a,{show:o,onToggle:function(){u((function(e){return!e}))},children:[Object(N.jsx)(Y,{id:"date-range-".concat(t),startDate:n,endDate:a}),Object(N.jsx)(V,{show:o,onClose:function(){return u(!1)},startDate:n,endDate:a,onDateRangeChanged:function(e){c(e.startDate,e.endDate)}})]})}var K=n(412),M=(n(411),n(72));var q=n(72);var J,H=n(72);function $(e){var t=e.name,n=e.title,r=e.onFilterChanged,i=e.filters,a=e.children,c=H.find(i,(function(e){return e.getOwner()===t}));return Object(N.jsxs)("div",{className:"filter-control",children:[n&&Object(N.jsxs)("div",{className:"filter-control-title-bar",children:[Object(N.jsx)("div",{className:"filter-control-title-bar-text",children:n}),c&&Object(N.jsx)("div",{className:"filter-control-title-bar-clear-button",onClick:function(){return r(void 0)},children:"clear filters"})]}),Object(N.jsx)("div",{className:"filter-control-content-container",children:a})]})}var z=n(72),Q={CATEGORY_SINGLE:"CATEGORY_SINGLE",CATEGORY_MULTIPLE:"CATEGORY_MULTIPLE",DATE_RANGE:"DATE_RANGE",VALUE_DISCRETE:"VALUE_DISCRETE",VALUE_CONTINUOUS:"VALUE_CONTINUOUS",RANGE_DISCRETE:"RANGE_DISCRETE",RANGE_CONTINUOUS:"RANGE_CONTINUOUS"},X=(J={},Object(c.a)(J,Q.CATEGORY_SINGLE,(function(e){var t=e.name,n=e.onFilterChanged,r=e.filters,i=e.baseData,a=e.config;return Object(N.jsx)(F,{name:t,onFilterChanged:n,filters:r,baseData:i,config:a,multipleSelect:!1})})),Object(c.a)(J,Q.CATEGORY_MULTIPLE,(function(e){var t=e.name,n=e.onFilterChanged,r=e.filters,i=e.baseData,a=e.config;return Object(N.jsx)(F,{name:t,onFilterChanged:n,filters:r,baseData:i,config:a,multipleSelect:!0})})),Object(c.a)(J,Q.DATE_RANGE,(function(e){var t=e.name,n=e.onFilterChanged,r=e.filters,i=e.baseData,a=e.config.field,c=function(e,t){var n=h.map(e,(function(e){return e[t]})),r=[];return h.map(n,(function(e){try{var t=new Date(Date.parse(e));r.push(t)}catch(n){}})),r}(i,a),s=P.map(c,(function(e){return e.getTime()})),l=P.min(s),o=P.max(s),u=P.find(r,(function(e){return e.getOwner()===t})),d=u?u.getStartDate().getTime():l,f=u?u.getEndDate().getTime():o;return P.isEmpty(c)?Object(N.jsx)("div",{children:"no values"}):Object(N.jsx)(W,{name:t,startDate:new Date(d),endDate:new Date(f),onDateRangeChanged:function(e,r){if(n){var i=new T(t,a,e,r);n(i)}}})})),Object(c.a)(J,Q.RANGE_DISCRETE,(function(e){var t=e.name,n=e.onFilterChanged,r=e.filters,i=e.baseData,a=e.config,c=a.field,s=a.unit,l=m(i,c),o=q.min(l),u=q.max(l),d={};q.map(l,(function(e){return d["".concat(e)]="".concat(e).concat(s)}));var f=q.find(r,(function(e){return e.getOwner()===t})),h=f?f.getLowerLimit():o,b=f?f.getUpperLimit():u;return q.isEmpty(l)?Object(N.jsx)("div",{children:"no values"}):Object(N.jsx)("div",{style:{padding:"5px 20px 20px 20px"},children:Object(N.jsx)(K.a,{value:[h,b],min:o,max:u,marks:d,onChange:function(e){if(n){var r=e[0],i=e[1],a=new E(t,c,r,i);n(a)}}})})})),Object(c.a)(J,Q.RANGE_CONTINUOUS,(function(e){var t,n=e.name,r=e.onFilterChanged,i=e.filters,a=e.baseData,s=e.config,l=s.field,o=s.unit,u=m(a,l),d=M.min(u),f=M.max(u),h=M.find(i,(function(e){return e.getOwner()===n})),b=h?h.getLowerLimit():d,O=h?h.getUpperLimit():f,j=(t={},Object(c.a)(t,b,"".concat(b).concat(o)),Object(c.a)(t,O,"".concat(O).concat(o)),t);return M.isEmpty(u)?Object(N.jsx)("div",{children:"no values"}):Object(N.jsx)("div",{style:{padding:"5px 20px 20px 20px"},children:Object(N.jsx)(K.a,{value:[b,O],marks:j,min:d,max:f,onChange:function(e){if(r){var t=e[0],i=e[1],a=new E(n,l,t,i);r(a)}}})})})),J);function Z(e){var t=e.name,n=e.title,r=e.onFilterChanged,i=e.filters,a=e.data,c=e.impactedByOtherFilters,s=e.isActive,l=e.type,o=e.config,u=a;if(c)if(s){var d=z.filter(i,(function(e){return e.getOwner()!==t}));u=new w("",d).filter(a)}else u=new w("",i).filter(a);var f=l in Q?X[l]:void 0;return Object(N.jsx)($,{name:t,title:n,onFilterChanged:r,filters:i,children:f?Object(N.jsx)(f,{name:t,onFilterChanged:r,filters:i,baseData:u,config:o}):Object(N.jsx)("div",{children:"Invalid field filter"})})}var ee=n(72);function te(e){var t=e.children;return Object(N.jsx)("div",{className:"filter-control-block",children:t})}function ne(e){var t=e.data,n=e.filterDescriptors,a=e.onFiltered,c=Object(i.useState)([]),l=Object(r.a)(c,2),o=l[0],u=l[1],d=Object(i.useState)(""),f=Object(r.a)(d,2),h=f[0],m=f[1];function b(e){u(e),a&&a(new w("",e).filter(t))}return Object(N.jsx)("div",{className:"filter-control-group",children:n.map((function(e){return Object(N.jsx)(te,{children:Object(N.jsx)(Z,{title:e.title,name:e.name,type:e.type,filters:o,data:t,impactedByOtherFilters:e.impactedByOtherFilters,isActive:h===e.name,onFilterChanged:function(t){m(e.name);var n=Object(s.a)(o);ee.remove(n,(function(t){return t.getOwner()===e.name})),b(t?[].concat(Object(s.a)(n),[t]):n)},config:e.config})},"filter-control-block-".concat(e.name))}))})}var re=[{title:"Date Published",name:"field-filter-publish",type:Q.DATE_RANGE,impactedByOtherFilters:!0,config:{field:"datePublished"}},{title:"Price",name:"field-filter-price",type:Q.RANGE_CONTINUOUS,impactedByOtherFilters:!0,config:{field:"price",unit:"$"}},{title:"Delivery Dates",name:"field-filter-delivery",type:Q.RANGE_DISCRETE,impactedByOtherFilters:!0,config:{field:"deliveryDates",unit:"d"}},{title:"Origin",name:"field-filter-origin",type:Q.CATEGORY_MULTIPLE,impactedByOtherFilters:!0,config:{field:"origin",showOccurrencesColumn:!0,sortByOccurrences:!0,sortAscent:!1,searchBarDisplayThreshold:2,sortBarDisplayThreshold:2,collapseThreshold:5}},{title:"Brand",name:"field-filter-brand",type:Q.CATEGORY_SINGLE,impactedByOtherFilters:!0,config:{field:"brand",showOccurrencesColumn:!0,sortByOccurrences:!0,sortAscent:!1,searchBarDisplayThreshold:3,sortBarDisplayThreshold:3,collapseThreshold:2}},{title:"Product Type",name:"field-filter-type",type:Q.CATEGORY_MULTIPLE,impactedByOtherFilters:!0,config:{field:"type",showOccurrencesColumn:!1,sortByOccurrences:!1,sortAscent:!0,searchBarDisplayThreshold:10,sortBarDisplayThreshold:10,collapseThreshold:5}},{title:"Color",name:"field-filter-colors",type:Q.CATEGORY_MULTIPLE,impactedByOtherFilters:!0,config:{field:"colors",showOccurrencesColumn:!0,sortByOccurrences:!0,sortAscent:!1,searchBarDisplayThreshold:2,sortBarDisplayThreshold:2,collapseThreshold:5}},{title:"Conditions",name:"field-filter-conditions",type:Q.CATEGORY_SINGLE,impactedByOtherFilters:!0,config:{field:"conditions",showOccurrencesColumn:!0,sortByOccurrences:!0,sortAscent:!1,searchBarDisplayThreshold:2,sortBarDisplayThreshold:2,collapseThreshold:5}}];function ie(){var e=Object(i.useState)(a),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(N.jsxs)("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)("div",{style:{width:300,position:"relative",height:"100%",padding:10,verticalAlign:"top"},children:Object(N.jsx)(ne,{data:a,filterDescriptors:re,onFiltered:function(e){return c(e)}})}),Object(N.jsxs)("div",{style:{flex:1,height:"100%",backgroundColor:"lightgreen",overflow:"auto"},children:["Filtered data",Object(N.jsx)("pre",{children:JSON.stringify(n,!0,4)})]})]})}},354:function(e,t,n){}}]);
//# sourceMappingURL=4.f0494ac9.chunk.js.map